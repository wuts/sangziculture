
<%
  paginated_products = Spree::Config.searcher.products if params.key?(:keywords)
  paginated_products ||= products
 %>

<% if products.empty? %>
 <div class="hint"> <%= t(:no_products_found) %></div>
<% elsif params.key?(:keywords) %>
  <h3><%= t(:search_results, :keywords => h(params[:keywords])) %></h3>
<% end %>

<% if products.any? %>
 <div class="slider" id="slider-one">

  <img class="scrollButtons left" src="/images/sangzi/left.gif" />
<div class="scroll" style="overflow: hidden;">
  <div class="scrollContainer" style="width: 1620px; left: -647px;">
    <% products.each do |product| %>
     <div class="panel" style="float: left; position: relative;">
          <div class="inside">
    <% if Spree::Config[:show_zero_stock_products] || product.has_stock? %>
       <%= link_to product_image(product), product %>
       <% end %>
         </div>
        </div>
    <% end %>


      <div class="left-shadow"></div>

      <div class="right-shadow"></div>
    </div>


 <% end %>

</div>
<img class="scrollButtons right" src="/images/sangzi/right.gif" />
<div id="fyl" class="container">

    <div class="hidden"><input type="text" size="20" value="请输入产品编码" onclick="value='';focus()" id="textfield" class="fyl" name="textfield">
    <input type="submit" value="搜索/search" id="button" class="fyl" name="button"></div>
    <% if paginated_products.respond_to?(:total_pages)
   params.delete(:search)
      params.delete(:taxon)

   %>
<%= will_paginate(paginated_products,
                    :previous_label => "&#171; #{t('previous')}",:next_label => "#{t('next')} &#187;")
%>

<% end -%>
</div>
</div>

